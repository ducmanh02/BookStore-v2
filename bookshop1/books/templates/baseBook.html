<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>

<head>
    {% load static %}
    <meta charset="UTF-8" />
    <script src="https://kit.fontawesome.com/f4980961c3.js" crossorigin="anonymous"></script>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/x-icon" href='{% static "home/favicon.ico" %}' />
    <link rel="stylesheet" href='{% static "home/style.css" %}' />
    <link rel="stylesheet" href='{% static "books/style.css" %}' />
    <title>BOOK SHOP</title>
</head>

<body>
    <div class="header">
        <div class="header-logo">LOGO</div>

        <div class="header-menu">
            <div class="header-menu-item actived">
                <a href="/">Home</a>
            </div>
            <div class="header-menu-item">
                <a id="actived" href="/books">Books</a>
            </div>
            <div class="header-menu-item">
                <a href="/#about-part">About</a>
            </div>
            <div class="header-menu-item">
                <a href="/#contact-part">Contact</a>
            </div>
        </div>
        <div class="header-icon">
            <div class="header-icon-user">
                <button onCLick="displayLogin()">
                    <i class="fa-solid fa-user"></i>
                </button>

                <div id="header-icon-user-display">
                    {% if user.is_authenticated %}
                    <div class="header-btn-logout">
                        <a href="{% url 'users:logout'%}"> Logout</a>
                    </div>
                    <div class="header-btn-register">
                        <a href="/users/profile/">Profile </a>
                    </div>
                        {% if request.user.is_superuser %}
                        <div class="header-btn-register">
                            <a href="/users/all_users/">AllUsers </a>
                        </div>
                        {% endif %}

                    {% else %}
                    <div class="header-btn-login">
                        <a href="/users/login"> Login</a>
                    </div>
                    <div class="header-btn-register">
                        <a href="/users/register">Register </a>
                    </div>
                    
                    {% endif %}
                </div>
            </div>
            <div class="header-icon-cart">
                <a href="/carts/view"><i class="fa-solid fa-cart-shopping"></i></a>
            </div>
        </div>
    </div>

    <!-- main -->

    <div class="main">
        <div class="main-books">
            <div class='main-top'>
                <div class="main-search">
                    <form method="GET" action="{% url 'books:book_search' %}">
                        <input type="text" name="query" placeholder="Search by book name or author">
                        <button type="submit"><i class="fa-solid fa-magnifying-glass"></i></button>
                    </form>
                </div>
                <div class="margin-bottom-20">
                    <div  class="button-admin">
                        {% if request.user.is_superuser %}
                        <div>
                            <button style="background-color: #6c757d;" class="handle-book-btn create-book-btn">
                                <a href="{% url 'books:book_create' %}">Create New Book</a>
                            </button>
                        </div>
                        <div>
                            <button style="background-color: #6c757d;" class="handle-book-btn create-book-btn">
                                <a href="/authors/create/">Add New Author</a>
                            </button>
                        </div>
                        <div>
                            <button style="background-color: #6c757d;" class="handle-book-btn create-book-btn">
                                <a href="/genres/create/">Create New Genre</a>
                            </button>
                        </div>
                        <div>
                            <button style="background-color: #6c757d;" class="handle-book-btn create-book-btn">
                                <a href="/orders/sales_report/">Sale Report</a>
                            </button>
                        </div>
                        <div>
                            
                        </div>
                        <div>
                            <button style="background-color: #6c757d;" class="handle-book-btn create-book-btn">
                                <a href="/orders/sales_report_genre/">Sale Report Genre</a>
                            </button>
                        </div>
                        
                        {% endif %}
                    </div >
                    <div class="button-user">
                        <button class="handle-book-btn create-book-btn">
                            <a href="/genres/">Genres</a>
                        </button>
                        <button class="handle-book-btn create-book-btn">
                            <a href="/authors/">Authors</a>
                        </button>
                        <button style="width:160px" id="success-btn" class="handle-book-btn create-book-btn">
                            <a href="/orders/">My Orders</a>
                        </button>
                    </div>
                </div>
            </div>



            {% block content %}
            {% endblock %}
        </div>
    </div>
    <div class="footer">Copyright Â© 2023 PTIT | Powered by PTIT</div>


    </div>
    <script>
        function displayLogin() {
            console.log("displayLogin");
            let displayUser = document.getElementById("header-icon-user-display");
            if (displayUser.style.display === "none") {
                displayUser.style.display = "block";
            } else {
                displayUser.style.display = "none";
            }
        }
    </script>
</body>

</html>